# Telegram-–±–æ—Ç "–ß—Ç–æ—Å–º–æ—Ç—Ä–µ—Ç—å" üé¨

–£–º–Ω—ã–π Telegram-–±–æ—Ç –Ω–∞ Python –∏ Aiogram —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π GigaChat API (–°–±–µ—Ä), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π —Ñ–∏–ª—å–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–∞ –≤–µ—á–µ—Ä.

–ë–æ—Ç –∑–∞–¥–∞—ë—Ç 5 –∫–ª—é—á–µ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –≤–∞—à–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç GigaChat –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Ñ–∏–ª—å–º–æ–≤.

***

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üé≠ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –æ–ø—Ä–æ—Å –∏–∑ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö
- ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GigaChat API –¥–ª—è —É–º–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- üéØ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥–±–æ—Ä 3-4 —Ñ–∏–ª—å–º–æ–≤
- üí¨ –î—Ä—É–∂–µ–ª—é–±–Ω—ã–π –¥–∏–∞–ª–æ–≥–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üîÑ FSM (Finite State Machine) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
- ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (aiogram + aiohttp)
- üîí –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `.env`

***

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`
2. –ë–æ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞—ë—Ç 5 –≤–æ–ø—Ä–æ—Å–æ–≤:
   - üé≠ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –∂–µ–ª–∞–µ–º—ã–π –∂–∞–Ω—Ä
   - ‚è± –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞
   - üß† –ú–æ–∑–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (–ª–µ–≥–∫–∏–π/–±–∞–ª–∞–Ω—Å/—É–º–Ω—ã–π)
   - üí´ –ò–Ω—Ç–µ—Ä–µ—Å—ã –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
   - üìÖ –ü–µ—Ä–∏–æ–¥ –∫–∏–Ω–æ (–∫–ª–∞—Å—Å–∏–∫–∞/–∑–æ–ª–æ—Ç–æ–µ –≤—Ä–µ–º—è/–Ω–æ–≤–∏–Ω–∫–∏)
3. –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –æ—Ç–≤–µ—Ç—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ GigaChat
4. –ü–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ 3-4 —Ñ–∏–ª—å–º–æ–≤
5. –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ–¥–±–æ—Ä

***

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ –æ—Ç BotFather
- GigaChat API: `client_id` –∏ `client_secret` (base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
BOT_TOKEN=—Ç–≤–æ–π_telegram_—Ç–æ–∫–µ–Ω
GIGA_CLIENT_BASIC=base64(client_id:client_secret)
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
git clone https://github.com/your-repo/ai-advent-challenge.git
cd ai-advent-challenge
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

***

## –ó–∞–ø—É—Å–∫

```bash
python app/bot.py
```

***

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
aI-advent-challenge/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞ —Å FSM
‚îÇ   ‚îî‚îÄ‚îÄ gigachat_client.py  # –ö–ª–∏–µ–Ω—Ç GigaChat API
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .env                    # –¢–æ–∫–µ–Ω—ã (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

***

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` ‚Äî –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ –∏ –ø–æ–¥–±–æ—Ä —Ñ–∏–ª—å–º–∞
- `/cancel` ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –æ–ø—Ä–æ—Å

### –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /start

–ë–æ—Ç: üé¨ –ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç "–ß—Ç–æ—Å–º–æ—Ç—Ä–µ—Ç—å"! üçø
     –ü–æ–º–æ–≥—É —Ç–µ–±–µ –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π —Ñ–∏–ª—å–º –Ω–∞ –≤–µ—á–µ—Ä!
     
     üé≠ –ö–∞–∫–æ–µ —É —Ç–µ–±—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ? –ß—Ç–æ —Ö–æ—á–µ—Ç—Å—è –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å?

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –•–æ—á—É —á—Ç–æ-—Ç–æ —Å –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω–æ–º, —ç–∫—à–Ω!

–ë–æ—Ç: ‚è± –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä?
     ‚Ä¢ –ö–æ—Ä–æ—Ç–∫–∏–π —Ñ–∏–ª—å–º (–¥–æ 90 –º–∏–Ω—É—Ç)
     ‚Ä¢ –°—Ä–µ–¥–Ω–∏–π —Ñ–∏–ª—å–º (90-120 –º–∏–Ω—É—Ç)
     ‚Ä¢ –î–ª–∏–Ω–Ω—ã–π —Ñ–∏–ª—å–º (120+ –º–∏–Ω—É—Ç)

[... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ ...]

–ë–æ—Ç: üéØ –û—Ç–ª–∏—á–Ω–æ! –í–æ—Ç —á—Ç–æ —è –ø–æ–¥–æ–±—Ä–∞–ª –¥–ª—è —Ç–µ–±—è:

     üé¨ **–ë–µ–∑—É–º–Ω—ã–π –ú–∞–∫—Å: –î–æ—Ä–æ–≥–∞ —è—Ä–æ—Å—Ç–∏ (2015)**
     –ü–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—à–µ–Ω —Å –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–º–∏...
     ‚ú® –ü–æ–¥—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ...
     
     [–µ—â—ë 2-3 —Ñ–∏–ª—å–º–∞]
```

***

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL –¥–ª—è GigaChat (Ubuntu/Debian)

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å GigaChat API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ú–∏–Ω—Ü–∏—Ñ—Ä—ã:

```bash
sudo mkdir -p /usr/local/share/ca-certificates/russian-trusted
curl -k "https://gu-st.ru/content/lending/russian_trusted_root_ca_pem.crt" \
  -o /usr/local/share/ca-certificates/russian-trusted/russian_trusted_root_ca_pem.crt
curl -k "https://gu-st.ru/content/lending/russian_trusted_sub_ca_pem.crt" \
  -o /usr/local/share/ca-certificates/russian-trusted/russian_trusted_sub_ca_pem.crt
sudo update-ca-certificates -v
```

–ü—Ä–æ–≤–µ—Ä—å: `trust list | grep Russian`

***

## –î–µ–ø–ª–æ–π –Ω–∞ VPS

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Screen

```bash
apt install screen
screen -S moviebot
cd ~/ai-advent-challenge
source venv/bin/activate
python app/bot.py
# Ctrl+A, D ‚Äî –æ—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
# screen -r moviebot ‚Äî –≤–µ—Ä–Ω—É—Ç—å—Å—è
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ systemd (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `/etc/systemd/system/moviebot.service`:

```ini
[Unit]
Description=Telegram Movie Bot
After=network.target

[Service]
Type=simple
User=youruser
WorkingDirectory=/home/youruser/ai-advent-challenge
Environment="PATH=/home/youruser/ai-advent-challenge/venv/bin"
ExecStart=/home/youruser/ai-advent-challenge/venv/bin/python app/bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

–ó–∞–ø—É—Å–∫:
```bash
sudo systemctl daemon-reload
sudo systemctl enable moviebot
sudo systemctl start moviebot
sudo systemctl status moviebot
```

***

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.10+**
- **aiogram 3.x** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- **aiohttp** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã
- **python-dotenv** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **GigaChat API** ‚Äî AI –æ—Ç –°–±–µ—Ä–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

***

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

***

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–°–æ–∑–¥–∞–≤–∞–π Issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.
